<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sign Language Recognition</title>
    <style>
        :root {
            --bg-color: #F3F4F6; --card-bg: #FFFFFF;
            --text-primary: #1F2937; --text-secondary: #6B7280;
            --btn-red: #EF4444; --btn-green: #22C55E; --btn-orange: #F97316;
            --safe-top: env(safe-area-inset-top, 10px);
            --safe-bottom: env(safe-area-inset-bottom, 10px);
            --safe-left: env(safe-area-inset-left, 10px);
            --safe-right: env(safe-area-inset-right, 10px);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, sans-serif; }
        
        body { 
            background: var(--bg-color); 
            width: 100vw;
            height: 100vh;
            overflow: hidden; 
            padding: var(--safe-top) var(--safe-right) var(--safe-bottom) var(--safe-left);
        }

        .container {
            display: flex;
            width: 100%;
            height: 100%;
            gap: 16px;
            padding: 12px;
        }

        /* ---------------------------------------------------
           COMMON ELEMENTS
           --------------------------------------------------- */
        h1 { color: var(--text-primary); line-height: 1.1; }
        h1 span { color: var(--text-secondary); font-weight: 400; }
        
        .output-box {
            background: var(--card-bg);
            border-radius: 16px;
            border: 2px solid var(--btn-green);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .output-text { color: var(--text-primary); font-weight: 600; width: 100%; }
        .cursor { color: var(--btn-green); animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        .faq-btn { display: none; }

        .video-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 12px;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .video-wrapper {
            flex-grow: 1;
            background: #000;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
        }

        video { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transform: scaleX(-1); 
        }

        .controls {
            flex-shrink: 0;
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
        }

        .btn-circle {
            border-radius: 50%; border: none; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.1s;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        }
        
        .btn-circle:active { transform: scale(0.9); }
        .btn-circle:disabled { opacity: 0.5; cursor: not-allowed; box-shadow: none; }
        .btn-upload { background: var(--btn-orange); }
        .btn-stop { background: var(--btn-red); }
        .btn-play { background: var(--btn-green); }
        .btn-circle svg { fill: white; }

        /* ---------------------------------------------------
           MOBILE: PORTRAIT (Vertical)
           Stack: Text Top, Video Bottom
           --------------------------------------------------- */
        @media (orientation: portrait) {
            .container { flex-direction: column; }
            
            .content-side {
                flex-shrink: 0;
                display: flex;
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }
            h1 { font-size: 1.5rem; }
            h1 span { font-size: 1rem; }
            .output-box { padding: 16px; min-height: 70px; }
            .output-text { font-size: 1.2rem; }
            
            .video-card { flex-grow: 1; }
            
            .btn-upload, .btn-stop { width: 50px; height: 50px; }
            .btn-play { width: 70px; height: 70px; }
            .btn-circle svg { width: 24px; height: 24px; }
            .btn-play svg { width: 32px; height: 32px; }
        }

        /* ---------------------------------------------------
           MOBILE & TABLET: LANDSCAPE (Horizontal)
           Split: Video Left, Text Right (to preserve vertical height)
           --------------------------------------------------- */
        @media (orientation: landscape) and (max-width: 1023px) {
            .container { flex-direction: row; }
            
            .video-card {
                flex: 2; /* Video takes up more horizontal space */
                height: 100%;
            }
            
            .content-side {
                flex: 1; /* Text is squeezed into a column on the right */
                display: flex;
                flex-direction: column;
                justify-content: center;
                gap: 12px;
                text-align: left;
                height: 100%;
            }

            h1 { font-size: 1.2rem; }
            h1 span { font-size: 0.9rem; }
            .output-box { 
                flex-grow: 1; /* Translation box stretches vertically */
                padding: 12px; 
                align-items: flex-start; /* Text starts at the top of the box */
            }
            .output-text { font-size: 1rem; }
            
            .controls { gap: 12px; }
            .btn-upload, .btn-stop { width: 44px; height: 44px; }
            .btn-play { width: 56px; height: 56px; }
            .btn-circle svg { width: 20px; height: 20px; }
            .btn-play svg { width: 26px; height: 26px; }
        }

        /* ---------------------------------------------------
           LAPTOP / DESKTOP (Large Screens)
           Strict Split Screen
           --------------------------------------------------- */
        @media (min-width: 1024px) {
            .container {
                flex-direction: row;
                max-width: 1400px;
                margin: 0 auto;
                padding: 20px;
                gap: 40px;
            }

            .video-card { flex: 6; height: 100%; padding: 24px; gap: 20px; }
            
            .content-side {
                flex: 4;
                display: flex;
                flex-direction: column;
                justify-content: center;
                text-align: left;
                gap: 32px;
            }

            h1 { font-size: 3.5rem; }
            h1 span { font-size: 2rem; }

            .output-box {
                min-height: 120px;
                padding: 32px;
                border-width: 3px;
                justify-content: flex-start;
                align-items: center;
            }
            .output-text { font-size: 1.8rem; }

            .faq-btn { 
                display: inline-block;
                background: #E5E7EB; color: var(--text-secondary);
                border: 1px solid #D1D5DB; padding: 16px 32px;
                border-radius: 12px; font-size: 1.2rem; font-weight: 600;
                cursor: pointer; transition: 0.2s; align-self: flex-start;
            }
            .faq-btn:hover { background: #D1D5DB; }

            .btn-upload, .btn-stop { width: 64px; height: 64px; }
            .btn-play { width: 80px; height: 80px; }
            .btn-circle svg { width: 32px; height: 32px; }
            .btn-play svg { width: 40px; height: 40px; }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- On Mobile Portrait: Sits at Top. On Landscape/Laptop: Moves to Right Side -->
        <div class="content-side">
            <h1>Sign Language <br><span>Real-time Translation</span></h1>
            
            <div class="output-box">
                <p class="output-text">
                    <span style="color: #6366f1; font-weight: bold; margin-right: 8px;">|</span>
                    <span id="translation-text">Loading ML Models...</span>
                    <span class="cursor">|</span>
                </p>
            </div>

            <button class="faq-btn">How to use this app</button>
        </div>

        <!-- On Mobile Portrait: Bottom. On Landscape/Laptop: Left Side -->
        <div class="video-card">
            <div class="video-wrapper">
                <video id="video-element" autoplay playsinline muted></video>
            </div>
            
            <div class="controls">
                <button id="btn-upload" class="btn-circle btn-upload" title="Upload Video">
                    <svg viewBox="0 0 24 24"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>
                </button>
                <input type="file" id="file-input" accept="video/*" style="display: none;">
                
                <button id="btn-play" class="btn-circle btn-play" title="Start Recognition">
                    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </button>

                <button id="btn-stop" class="btn-circle btn-stop" title="Stop" disabled>
                    <svg viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
                </button>
            </div>
        </div>

    </div>
    
    <canvas id="hidden-canvas" style="display: none;"></canvas>
    <script type="module" src="app.js"></script>
</body>
</html>

